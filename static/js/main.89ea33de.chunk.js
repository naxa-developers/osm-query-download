(this["webpackJsonpop-vt"]=this["webpackJsonpop-vt"]||[]).push([[0],{347:function(e,a,t){},382:function(e,a){},384:function(e,a){},564:function(e,a){},584:function(e,a,t){"use strict";t.r(a);var r=t(0),n=t(81),i=t.n(n),o=t(19),c=t(22),s=t(6),l=t(622),u=t(312),d=(t(299),t(640),t(124)),p=t(192),b=Object(r.createContext)(),m=t(3),g=["mapRef","children"],h=function(e){var a=e.mapRef,t=e.children,r=Object(p.a)(e,g);return Object(m.jsx)("div",Object(d.a)(Object(d.a)({ref:a,id:"ol-map",className:"ol-map"},r),{},{children:t}))},f=["providerValue","children"],y=function(e){var a=e.providerValue,t=e.children,r=Object(p.a)(e,f);return Object(m.jsx)(b.Provider,{value:a,children:Object(m.jsx)(h,Object(d.a)(Object(d.a)({},r),{},{children:t}))})};y.defaultProps={providerValue:{}};var j=y,_=t(29),w=t.n(_),v=t(313),x=function(e){var a=e.source,t=e.zIndex,n=e.type,i=e.title,o=e.visible,c=Object(r.useContext)(b).map;return Object(r.useEffect)((function(){if(!c)return function(){};var e=new v.a({source:a,type:n,zIndex:t,title:i,visible:o});return c.addLayer(e),e.setZIndex(t),function(){c&&c.removeLayer(e)}}),[c]),null};x.defaultProps={type:"layer",title:"",visible:!0,zIndex:0},x.propTypes={source:w.a.object.isRequired,zIndex:w.a.number,type:w.a.string,title:w.a.string,visible:w.a.bool};var O=x,k=t(310),S=t(314),C=t(2),I=t(187),E=t(237);var L=function(e){var a=e.scaleBar,t=void 0!==a&&a,n=Object(r.useRef)(),i=Object(r.useState)(null),o=Object(c.a)(i,2),s=o[0],l=o[1],u=Object(r.useState)(null),d=Object(c.a)(u,2),p=d[0],b=d[1];return Object(r.useEffect)((function(){var e={layers:[],controls:[],overlays:[],view:new S.a({center:[9508595.54043558,3212952.3094566735],zoom:14}),target:n.current},a=new k.a(e);return l(a),a.addControl(new E.a({units:"metric",bar:!0,steps:4,text:!0,minWidth:140})),function(){return a.setTarget(void 0)}}),[t]),Object(r.useEffect)((function(){if(s)return s.on("rendercomplete",e),function(){return s&&s.un("rendercomplete",e)};function e(){var a=C.j();s.getLayers().forEach((function(e){e instanceof I.a&&C.q(a,e.getSource().getExtent())})),a[0]!==1/0&&(setTimeout((function(){b(!0)}),500),s.un("rendercomplete",e))}}),[s]),{mapRef:n,map:s,renderComplete:p}},P=t(105),z=t(166),A=(t(347),t(348),t(231)),G={aeroway:["aerodrome","apron","control_tower","control_center","gate","hangar","helipad","heliport","navigationaid","beacon","runway","taxilane","taxiway","terminal","windsock","highway_strip"],admin_level:["1","2","3","4","5","7","8","9","10","11"],amenity:["animal_boarding","animal_shelter","arts_centre","atm","bank","bar","bench","bbq","bicycle_parking","bicycle_rental","biergarten","bus_station","cafe","casino","car_rental","car_sharing","car_wash","clinic","clock","cinema","college","community_centre","coworking_space","crematorium","dentist","doctors","drinking_water","embassy","fast_food","fire_station","fountain","fuel","gambling","grave_yard","hospital","kindergarten","library","marketplace","nightclub","parking","pharmacy","place_of_worship","planetarium","police","post_box","post_office","prison","pub","recycling","restaurant","school","shelter","shower","social_facility","social_centre","swingerclub","taxi","theatre","toilets","townhall","university","vending_machine","veterinary"],boundary:["administrative","maritime","national_park","religious_administration","protected_area"],building:["apartments","commercial","farm","hotel","house","industrial","retail","yes"],crop:["bananas","barley","berry_plants","corn","dairy","dry_farming","feed_lot","field_cropland","flowers","grape","grass","hay","native_pasture","no","orchid","potatoes","poultry","rape","rice","strawberry","yes","wheat"],cuisine:["bagel","barbecue","bougatsa","burger","cake","casserole","chicken","coffee_shop","crepe","couscous","curry","dessert","donut","doughnut","empanada","fish","fish_and_chips","fried_food","friture","gyro","ice_cream","kebab","mediterranean","noodle","pancake","pasta","pie","pizza","regional","sandwich","sausage","savory_pancakes","seafood","steak_house","sub","sushi","tapas","vegan","vegetarian","wings"],craft:["agricultural_engines","basket_maker","beekeeper","blacksmith","brewery","boatbuilder","carpenter","caterer","confectionery","dressmaker","electrician","gardener","glaziery","handicraft","hvac","insulation","jeweller","key_cutter","optician","painter","photographer","plumber","roofer","tailor","watchmaker","winery"],emergency:["ambulance_station","assembly_point","defibrillator","fire_extinguisher","fire_hydrant","phone","siren","water_tank"],evacuation_center:["yes"],highway:["motorway","trunk","primary","secondary","tertiary","unclassified","residential","living_street","service","track","road","footway","pedestrian","cycleway","steps","path","construction","bus_stop","crossing","mini_roundabout","speed_camera","stop","street_lamp","traffic_signals","turning_circle"],cycleway:["lane","opposite","opposite_lane","track","opposite_track","share_busway","shared_lane"],junction:["roundabout","jughandle","filter","yes"],historic:["archaeological_site","aircraft","battlefield","boundary_stone","building","castle","cannon","city_gate","citywalls","farm","fort","manor","memorial","monument","ruins","rune_stone","ship","wayside_cross","wayside_shrine","yes"],landuse:["allotments","basin","brownfield","cemetery","commercial","construction","farm","farmland","farmyard","forest","garages","grass","greenfield","industrial","landfill","meadow","military","orchard","plant_nursery","quarry","railway","reservoir","residential","retail","vineyard"],leisure:["fishing","garden","golf_course","hackerspace","marina","miniature_golf","nature_reserve","park","pitch","playground","sports_centre","stadium","swimming_pool","track","water_park"],man_made:["chimney","cross","lighthouse","monitoring_station","pier","pipeline","surveillance","survey_point","tower","water_tower","works","yes"],natural:["bay","beach","cave_entrance","cliff","crater","coastline","fell","fumarole","glacier","grassland","heath","mud","peak","saddle","sand","scree","scrub","spring","stone","tree","tree_row","volcano","water","wetland","wood"],office:["accountant","administrative","architect","association","company","educational_institution","employment_agency","estate_agent","forestry","foundation","government","guide","insurance","it","lawyer","newspaper","ngo","notary","political_party","quango","register","religion","research","tax","telecommunication","travel_agent","water_utility"],place:["allotments","archipelago","city","continent","county","country","district","farm","hamlet","island","islet","isolated_dwelling","locality","municipality","neighbourhood","province","state","suburb","region","town","village"],power:["cable","plant","generator","line","minor_line","pole","substation","switch","tower","transformer"],produce:["berries","cassava","cereal","christmas_trees","cork","crocodile","dry_farming","fire_wood","fish","flowers","forage","hay","herbs","hide","hop","latex","lavender","live_animal","maize","maple_syrup","meat","mussels","nut","oil","olive","oysters","prawns","rape","rice","seaweed","shrimp","spice","sugarcane","sunflower","tea","timber","turf","vegetable"],public_transport:["stop_position","platform","station","stop_area"],shop:["alcohol","antiques","art","baby_goods","bakery","bag","bathroom_furnishing","beauty","bed","beverages","bicycle","books","boutique","butcher","car","car_repair","car_parts","carpet","charity","cheese","chemist","chocolate","clothes","coffee","computer","confectionery","convenience","copyshop","cosmetics","craft","curtain","deli","department_store","dairy","dry_cleaning","doityourself","electronics","erotic","fabric","farm","fashion","fishing","florist","frame","funeral_directors","furniture","general","gift","hairdresser","hardware","hearing_aids","herbalist","hifi","hunting","interior_decoration","jewelry","kiosk","kitchen","greengrocer","grocery","leather","laundry","mall","massage","medical_supply","mobile_phone","money_lender","motorcycle","music","musical_instrument","newsagent","optician","organic","outdoor","pasta","pet","photo","scuba_diving","seafood","second_hand","shoes","sports","stationery","supermarket","tailor","tattoo","tea","ticket","tobacco","toys","travel_agency","tyres","vacant","variety_store","video","video_games","water_sports","weapons","wine"],sport:["9pin","10pin","american_football","archery","athletics","australian_football","base","badminton","baseball","beachvolleyball","billiards","bmx","boules","bowls","boxing","canoe","chess","climbing","climbing_adventure","cycling","equestrian","free_flying","golf","handball","horse_racing","karting","kitesurfing","model_aerodrome","motocross","motor","multi","roller_skating","rugby_league","rugby_union","running","sailing","shooting","skateboard","skiing","soccer","swimming","tennis","volleyball"],railway:["abandoned","buffer_stop","construction","crossing","disused","funicular","halt","level_crossing","miniature","narrow_gauge","preserved","rail","station","subway","subway_entrance","switch","tram","tram_stop"],route:["bicycle","bus","ferry","hiking","mtb","pipeline","piste","power","railway","road","ski","train","tram"],tourism:["alpine_hut","apartement","attraction","artwork","camp_site","caravan_site","chalet","gallery","guest_house","hostel","hotel","information","motel","museum","picnic_site","theme_park","viewpoint","zoo","yes"],trees:["almond_trees","apple_trees","apricot_trees","avocado_trees","banana_plants","bayberry","blackberry","blueberry","cacao_plants","cherry_trees","chestnut_trees","coconut_palms","coffea_plants","cranberry","custard_apple","date_palms","durian_trees","ginkgo_trees","governor's_plum","guava_trees","hazel_plants","lemon_trees","lychee_trees","macadamia_trees","mandarin_trees","mango_trees","mulberrie_trees","olive_trees","orange_trees","papaya_trees","peach_trees","pear_trees","pecan_trees","persimmon_trees","pineapple_plants","pistachio_trees","plum_trees","pomegranate_trees","rambutan_trees","raspberry","sand_pear","tea_plants","walnut_trees"],waterway:["canal","ditch","dam","dock","drain","river","riverbank","stream","weir"]},q=t(229),F=t.n(q),R=t(65),T=t(57),B=t(85),V=t(639),D=t(308),M=t.n(D),N=t(309),J=t.n(N),U=t(305),Q=t.n(U),X=t(306),W=t.n(X),Z=t(230),H=t.n(Z),K=t(304),Y=t.n(K),$=t(307),ee=t.n($),ae=t(641),te=t(632),re=t.p+"static/media/logo_n.6d900a8f.png",ne=t(638),ie=t(636),oe=(t(520),t(301)),ce=t.n(oe),se=t(145),le=t(232),ue=t(195),de=t(149),pe={Point:[new se.c({image:new le.a({fill:new ue.a({color:[255,255,255,1]}),stroke:new de.a({color:[0,0,0,1]}),radius:5})})],LineString:[new se.c({stroke:new de.a({color:localStorage.getItem("lineColor")||"green",width:1})})],Polygon:[new se.c({stroke:new de.a({color:"blue",lineDash:[4],width:3}),fill:new ue.a({color:"rgba(0, 0, 255, 0.1)"})})],MultiLineString:[new se.c({stroke:new de.a({color:"green",width:1})})],MultiPoint:[new se.c({image:new le.a({fill:new ue.a({color:[255,255,255,1]}),stroke:new de.a({color:[0,0,0,1]}),radius:5})})],MultiPolygon:[new se.c({stroke:new de.a({color:"yellow",width:1}),fill:new ue.a({color:"rgba(255, 255, 0, 0.1)"})})],GeometryCollection:[new se.c({stroke:new de.a({color:"magenta",width:2}),fill:new ue.a({color:"magenta"}),image:new le.a({radius:10,fill:null,stroke:new de.a({color:"magenta"})})})],Circle:[new se.c({stroke:new de.a({color:"red",width:2}),fill:new ue.a({color:"rgba(255,0,0,0.2)"})})]},be=t(633),me=t(642),ge=t(635),he=t(644),fe=t(646),ye=t(645),je=t(198),_e=t.n(je),we=function(e){var a=e.open,t=e.handleClose;return Object(m.jsx)(be.a,{open:a,onClose:t,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:Object(m.jsxs)(me.a,{sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,bgcolor:"background.paper",border:"2px solid #fff",boxShadow:24,p:4},children:[Object(m.jsxs)(ge.a,{children:[Object(m.jsx)(he.a,{expandIcon:Object(m.jsx)(_e.a,{}),"aria-controls":"panel1a-content",id:"panel1a-header",children:Object(m.jsx)(ye.a,{children:"Point"})}),Object(m.jsx)(fe.a,{children:Object(m.jsxs)(ye.a,{children:[Object(m.jsx)("label",{htmlFor:"point-settings",children:"Point Color"}),Object(m.jsx)("input",{name:"point-settings",type:"color"}),Object(m.jsx)("label",{htmlFor:"point-settings",children:"Point Size"}),Object(m.jsx)("input",{name:"point-settings",type:"number"})]})})]}),Object(m.jsxs)(ge.a,{children:[Object(m.jsx)(he.a,{expandIcon:Object(m.jsx)(_e.a,{}),"aria-controls":"panel2a-content",id:"panel2a-header",children:Object(m.jsx)(ye.a,{children:"LineString"})}),Object(m.jsxs)(fe.a,{children:[Object(m.jsx)("label",{htmlFor:"line-settings",children:"Line String Color"}),Object(m.jsx)("input",{name:"line-settings",type:"color",onChange:function(e){return function(e){localStorage.setItem("lineColor",e.target.value)}(e)},defaultValue:localStorage.getItem("lineColor")||"#00ff00"})]})]}),Object(m.jsxs)(ge.a,{children:[Object(m.jsx)(he.a,{expandIcon:Object(m.jsx)(_e.a,{}),"aria-controls":"panel2a-content",id:"panel2a-header",children:Object(m.jsx)(ye.a,{children:"Polygon"})}),Object(m.jsx)(fe.a,{children:Object(m.jsx)(ye.a,{children:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Suspendisse malesuada lacus ex, sit amet blandit leo lobortis eget."})})]})]})})};t(643);var ve=new F.a("//overpass-api.de/api/interpreter"),xe=function(e){return e.replace(/\w\S*/g,(function(e){return e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()}))};function Oe(){var e=Object(r.useState)(!1),a=Object(c.a)(e,2),t=a[0],n=a[1],i=function(){return n(!0)},d=L({scaleBar:!1}),p=d.mapRef,b=d.map,g=Object(r.useState)(null),h=Object(c.a)(g,2),f=h[0],y=h[1],_=Object(r.useState)(null),w=Object(c.a)(_,2),v=w[0],x=w[1],k=Object(r.useState)([]),S=Object(c.a)(k,2),C=S[0],E=S[1],q=Object(r.useState)(null),D=Object(c.a)(q,2),N=(D[0],D[1],[]);Object.keys(G).forEach((function(e){N.push({value:e,label:xe(e).replace("_"," ")})}));var U;return Object(m.jsxs)("div",{className:"App",children:[Object(m.jsxs)(ne.a,{container:!0,spacing:2,className:"top-bar",children:[Object(m.jsx)(ne.a,{item:!0,xs:1,children:Object(m.jsx)("img",{src:re,className:"App-logo",alt:"logo",height:40})}),Object(m.jsx)(ne.a,{item:!0,xs:2,children:Object(m.jsx)(A.a,{options:N,onChange:function(e){return function(e){var a=[];G[e].forEach((function(e){return a.push({value:e,label:xe(e).replace("_"," ")})})),E(a),y(e)}(e.value)}})}),Object(m.jsx)(ne.a,{item:!0,xs:3,children:Object(m.jsxs)(ne.a,{container:!0,spacing:1,children:[Object(m.jsx)(ne.a,{item:!0,xs:11,children:Object(m.jsx)(A.a,{options:C,onChange:function(e){return x(e.value)}})}),Object(m.jsx)(ne.a,{item:!0,xs:1,children:Object(m.jsx)(te.a,{title:"Advance Options",children:Object(m.jsx)(ae.a,{onClick:i,children:Object(m.jsx)(H.a,{})})})})]})}),Object(m.jsxs)(ne.a,{item:!0,xs:6,children:[Object(m.jsx)(te.a,{title:"Draw",children:Object(m.jsx)(V.a,{variant:"fill",startIcon:Object(m.jsx)(Y.a,{}),onClick:function(){U?b.removeInteraction(U):function(){var e=new I.a({source:new u.a({wrapX:!1})});b.addLayer(e),U=new z.a({source:new u.a({wrapX:!1}),type:"Polygon"}),b.addInteraction(U)}()},children:"Draw"})}),Object(m.jsx)(te.a,{title:"Upload",children:Object(m.jsx)(V.a,{variant:"fill",startIcon:Object(m.jsx)(Q.a,{}),onClick:function(){return function(e){var a=function(a){var t=new ie.a({featureProjection:Object(s.g)("EPSG:3857")}).readFeatures(a),r=new I.a({source:new u.a({features:t}),style:function(e){return pe[e.getGeometry().getType()]}});e.addLayer(r),e.getView().fit(r.getSource().getExtent())},t=document.createElement("input");t.setAttribute("type","file"),t.setAttribute("accept",".geojson,.gpx,.csv,.kml,.wkt,.zip"),t.addEventListener("change",(function(e){var t=e.target.files[0],r=new FileReader,n=t.name.split(".");"zip"===n[n.length-1].toLowerCase()?t.arrayBuffer().then((function(e){ce()(e).then((function(e){a(e)}))})):r.onload=function(e){var t=JSON.parse(e.target.result);a(t)},r.readAsText(t)})),t.click()}(b)},children:"Upload"})}),Object(m.jsx)(V.a,{variant:"outlined",startIcon:Object(m.jsx)(W.a,{}),onClick:function(){if(f&&v){var e=Object(s.o)(b.getView().calculateExtent(),"EPSG:3857","EPSG:4326");ve.BBoxQuery("nwr[".concat(f,"=").concat(v,"]"),{minlat:e[1],maxlat:e[3],minlon:e[0],maxlon:e[2]},{properties:F.a.ALL},(function(e,a){if("node"===a.data.type){var t=new R.a(Object(s.d)([a.geometry.lon,a.geometry.lat])),r=new I.a({source:new u.a({features:[new P.a(t)]}),style:function(e){return pe[e.getGeometry().getType()]}});b.addLayer(r)}else if("way"===a.data.type){if(["highway","cycleway","railway","route","waterway"].includes(f)){var n=[];a.geometry.forEach((function(e){n.push(Object(s.d)([e.lon,e.lat]))}));var i=new B.a(n),o=new P.a(i),c=new I.a({source:new u.a({features:[o]}),style:function(e){return pe[e.getGeometry().getType()]}});b.addLayer(c)}else{var l=[];a.geometry.forEach((function(e){l.push(Object(s.d)([e.lon,e.lat]))}));var d=new T.a([l]),p=new P.a(d),m=new I.a({source:new u.a({features:[p]}),style:function(e){return pe[e.getGeometry().getType()]}});b.addLayer(m)}}else console.log("relation",a)}),(function(e){e&&console.log(e)}))}else console.log("no query")},children:"Query"}),Object(m.jsx)(V.a,{variant:"fill",startIcon:Object(m.jsx)(ee.a,{}),onClick:function(){},children:"Data"}),Object(m.jsx)(te.a,{title:"Clear",children:Object(m.jsx)(V.a,{variant:"fill",startIcon:Object(m.jsx)(M.a,{}),onClick:function(){Object(o.a)(b.getLayers().getArray()).forEach((function(e,a){0!==a&&b.removeLayer(e)}))},children:"Clear"})}),Object(m.jsx)(te.a,{title:"Download",children:Object(m.jsx)(V.a,{variant:"fill",startIcon:Object(m.jsx)(J.a,{}),onClick:function(){return function(e){if(e){var a=Object(o.a)(e.getLayers().getArray()),t=[];a.forEach((function(e,a){0!==a&&t.push(new P.a(e.getSource().getFeatures()))}));var r=new I.a({source:new u.a({features:t})}),n=(new ie.a).writeFeatures(r.getSource().getFeatures(),{dataProjection:"EPSG:3857",featureProjection:"EPSG:4326"});console.log(n)}}(b)},children:"Download"})}),Object(m.jsx)(te.a,{title:"Setting",children:Object(m.jsx)(V.a,{variant:"fill",startIcon:Object(m.jsx)(H.a,{}),onClick:i,children:"Settings"})})]})]}),Object(m.jsx)(j,{mapRef:p,providerValue:{map:b},zoom:12,center:Object(s.d)([84.5,28.3]),className:"map",children:Object(m.jsx)(O,{source:new l.a,zIndex:0,type:"base",title:"OSM Base Map"})}),Object(m.jsx)(we,{open:t,handleClose:function(){return n(!1)}})]})}var ke=document.getElementById("root");i.a.render(Object(m.jsx)(r.StrictMode,{children:Object(m.jsx)(Oe,{})}),ke)}},[[584,1,2]]]);
//# sourceMappingURL=main.89ea33de.chunk.js.map