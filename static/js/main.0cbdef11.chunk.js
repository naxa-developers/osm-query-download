(this["webpackJsonpop-vt"]=this["webpackJsonpop-vt"]||[]).push([[0],{344:function(e,t,a){},404:function(e,t){},436:function(e,t){},438:function(e,t){},582:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a(83),i=a.n(n),o=(a(342),a(343),a(344),a(22)),c=a(6),s=a(623),l=a(308),u=(a(294),a(644),a(107)),d=a(190),p=Object(r.createContext)(),b=a(2),m=["mapRef","children"],g=function(e){var t=e.mapRef,a=e.children,r=Object(d.a)(e,m);return Object(b.jsx)("div",Object(u.a)(Object(u.a)({ref:t,id:"ol-map",className:"ol-map"},r),{},{children:a}))},f=["providerValue","children"],h=function(e){var t=e.providerValue,a=e.children,r=Object(d.a)(e,f);return Object(b.jsx)(p.Provider,{value:t,children:Object(b.jsx)(g,Object(u.a)(Object(u.a)({},r),{},{children:a}))})};h.defaultProps={providerValue:{}};var y=h,j=a(29),_=a.n(j),w=a(309),v=function(e){var t=e.source,a=e.zIndex,n=e.type,i=e.title,o=e.visible,c=Object(r.useContext)(p).map;return Object(r.useEffect)((function(){if(!c)return function(){};var e=new w.a({source:t,type:n,zIndex:a,title:i,visible:o});return c.addLayer(e),e.setZIndex(a),function(){c&&c.removeLayer(e)}}),[c]),null};v.defaultProps={type:"layer",title:"",visible:!0,zIndex:0},v.propTypes={source:_.a.object.isRequired,zIndex:_.a.number,type:_.a.string,title:_.a.string,visible:_.a.bool};var O=v,x=a(305),k=a(310),S=a(3),C=a(186),E=a(232);var P=function(e){var t=e.scaleBar,a=void 0!==t&&t,n=Object(r.useRef)(),i=Object(r.useState)(null),c=Object(o.a)(i,2),s=c[0],l=c[1],u=Object(r.useState)(null),d=Object(o.a)(u,2),p=d[0],b=d[1];return Object(r.useEffect)((function(){var e={layers:[],controls:[],overlays:[],view:new k.a({center:[9508595.54043558,3212952.3094566735],zoom:14}),target:n.current},t=new x.a(e);return l(t),t.addControl(new E.a({units:"metric",bar:!0,steps:4,text:!0,minWidth:140})),function(){return t.setTarget(void 0)}}),[a]),Object(r.useEffect)((function(){if(s)return s.on("rendercomplete",e),function(){return s&&s.un("rendercomplete",e)};function e(){var t=S.j();s.getLayers().forEach((function(e){e instanceof C.a&&S.q(t,e.getSource().getExtent())})),t[0]!==1/0&&(setTimeout((function(){b(!0)}),500),s.un("rendercomplete",e))}}),[s]),{mapRef:n,map:s,renderComplete:p}},I=a(635),L=a(645),z=a(639),G=a(646),F=a(648),A=a(647),R=a(195),T=a.n(R),V=function(e){var t=e.open,a=e.handleClose;return Object(b.jsx)(I.a,{open:t,onClose:a,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:Object(b.jsxs)(L.a,{sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,bgcolor:"background.paper",border:"2px solid #fff",boxShadow:24,p:4},children:[Object(b.jsxs)(z.a,{children:[Object(b.jsx)(G.a,{expandIcon:Object(b.jsx)(T.a,{}),"aria-controls":"panel1a-content",id:"panel1a-header",children:Object(b.jsx)(A.a,{children:"Point"})}),Object(b.jsx)(F.a,{children:Object(b.jsxs)(A.a,{children:[Object(b.jsx)("label",{htmlFor:"point-settings",children:"Point Color"}),Object(b.jsx)("input",{name:"line-settings",type:"color",onChange:function(e){return function(e){localStorage.setItem("pointColor",e.target.value)}(e)},defaultValue:localStorage.getItem("pointColor")||"#ff0000"}),Object(b.jsx)("label",{htmlFor:"point-settings",children:"Point Size"}),Object(b.jsx)("input",{name:"point-settings",type:"number"})]})})]}),Object(b.jsxs)(z.a,{children:[Object(b.jsx)(G.a,{expandIcon:Object(b.jsx)(T.a,{}),"aria-controls":"panel2a-content",id:"panel2a-header",children:Object(b.jsx)(A.a,{children:"LineString"})}),Object(b.jsxs)(F.a,{children:[Object(b.jsx)("label",{htmlFor:"line-settings",children:"Line String Color"}),Object(b.jsx)("input",{name:"line-settings",type:"color",onChange:function(e){return function(e){localStorage.setItem("lineColor",e.target.value)}(e)},defaultValue:localStorage.getItem("lineColor")||"#00ff00"})]})]}),Object(b.jsxs)(z.a,{children:[Object(b.jsx)(G.a,{expandIcon:Object(b.jsx)(T.a,{}),"aria-controls":"panel2a-content",id:"panel2a-header",children:Object(b.jsx)(A.a,{children:"Polygon"})}),Object(b.jsx)(F.a,{children:Object(b.jsx)(A.a,{children:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Suspendisse malesuada lacus ex, sit amet blandit leo lobortis eget."})})]})]})})},q=a(23),B=a(642),D=a(303),M=a.n(D),N=a(304),J=a.n(N),Q=a(300),U=a.n(Q),H=a(301),W=a.n(H),Z=a(226),K=a.n(Z),X=a(299),Y=a.n(X),$=a(302),ee=a.n($),te=a(649),ae=a(634),re=a(641),ne=a(227),ie=a.p+"static/media/logo_n.6d900a8f.png",oe=a(102),ce=a(637),se=a(296),le=a.n(se),ue=a(297),de=a.n(ue),pe=a(101),be=a(131),me=a(110),ge=a(96),fe={Point:[new pe.c({image:new be.a({fill:new me.a({color:[255,255,255,1]}),stroke:new ge.a({color:[0,0,0,1]}),radius:5})})],LineString:[new pe.c({stroke:new ge.a({color:localStorage.getItem("lineColor")||"green",width:1})})],Polygon:[new pe.c({stroke:new ge.a({color:"blue",lineDash:[4],width:3}),fill:new me.a({color:"rgba(0, 0, 255, 0.1)"})})],MultiLineString:[new pe.c({stroke:new ge.a({color:"green",width:1})})],MultiPoint:[new pe.c({image:new be.a({fill:new me.a({color:[255,255,255,1]}),stroke:new ge.a({color:[0,0,0,1]}),radius:5})})],MultiPolygon:[new pe.c({stroke:new ge.a({color:"yellow",width:1}),fill:new me.a({color:"rgba(255, 255, 0, 0.1)"})})],GeometryCollection:[new pe.c({stroke:new ge.a({color:"magenta",width:2}),fill:new me.a({color:"magenta"}),image:new be.a({radius:10,fill:null,stroke:new ge.a({color:"magenta"})})})],Circle:[new pe.c({stroke:new ge.a({color:"red",width:2}),fill:new me.a({color:"rgba(255,0,0,0.2)"})})]},he=a(166),ye=a(34),je=a(307),_e={aeroway:["aerodrome","apron","control_tower","control_center","gate","hangar","helipad","heliport","navigationaid","beacon","runway","taxilane","taxiway","terminal","windsock","highway_strip"],admin_level:["1","2","3","4","5","7","8","9","10","11"],amenity:["animal_boarding","animal_shelter","arts_centre","atm","bank","bar","bench","bbq","bicycle_parking","bicycle_rental","biergarten","bus_station","cafe","casino","car_rental","car_sharing","car_wash","clinic","clock","cinema","college","community_centre","coworking_space","crematorium","dentist","doctors","drinking_water","embassy","fast_food","fire_station","fountain","fuel","gambling","grave_yard","hospital","kindergarten","library","marketplace","nightclub","parking","pharmacy","place_of_worship","planetarium","police","post_box","post_office","prison","pub","recycling","restaurant","school","shelter","shower","social_facility","social_centre","swingerclub","taxi","theatre","toilets","townhall","university","vending_machine","veterinary"],boundary:["administrative","maritime","national_park","religious_administration","protected_area"],building:["apartments","commercial","farm","hotel","house","industrial","retail","yes"],crop:["bananas","barley","berry_plants","corn","dairy","dry_farming","feed_lot","field_cropland","flowers","grape","grass","hay","native_pasture","no","orchid","potatoes","poultry","rape","rice","strawberry","yes","wheat"],cuisine:["bagel","barbecue","bougatsa","burger","cake","casserole","chicken","coffee_shop","crepe","couscous","curry","dessert","donut","doughnut","empanada","fish","fish_and_chips","fried_food","friture","gyro","ice_cream","kebab","mediterranean","noodle","pancake","pasta","pie","pizza","regional","sandwich","sausage","savory_pancakes","seafood","steak_house","sub","sushi","tapas","vegan","vegetarian","wings"],craft:["agricultural_engines","basket_maker","beekeeper","blacksmith","brewery","boatbuilder","carpenter","caterer","confectionery","dressmaker","electrician","gardener","glaziery","handicraft","hvac","insulation","jeweller","key_cutter","optician","painter","photographer","plumber","roofer","tailor","watchmaker","winery"],emergency:["ambulance_station","assembly_point","defibrillator","fire_extinguisher","fire_hydrant","phone","siren","water_tank"],evacuation_center:["yes"],highway:["motorway","trunk","primary","secondary","tertiary","unclassified","residential","living_street","service","track","road","footway","pedestrian","cycleway","steps","path","construction","bus_stop","crossing","mini_roundabout","speed_camera","stop","street_lamp","traffic_signals","turning_circle"],cycleway:["lane","opposite","opposite_lane","track","opposite_track","share_busway","shared_lane"],junction:["roundabout","jughandle","filter","yes"],historic:["archaeological_site","aircraft","battlefield","boundary_stone","building","castle","cannon","city_gate","citywalls","farm","fort","manor","memorial","monument","ruins","rune_stone","ship","wayside_cross","wayside_shrine","yes"],landuse:["allotments","basin","brownfield","cemetery","commercial","construction","farm","farmland","farmyard","forest","garages","grass","greenfield","industrial","landfill","meadow","military","orchard","plant_nursery","quarry","railway","reservoir","residential","retail","vineyard"],leisure:["fishing","garden","golf_course","hackerspace","marina","miniature_golf","nature_reserve","park","pitch","playground","sports_centre","stadium","swimming_pool","track","water_park"],man_made:["chimney","cross","lighthouse","monitoring_station","pier","pipeline","surveillance","survey_point","tower","water_tower","works","yes"],natural:["bay","beach","cave_entrance","cliff","crater","coastline","fell","fumarole","glacier","grassland","heath","mud","peak","saddle","sand","scree","scrub","spring","stone","tree","tree_row","volcano","water","wetland","wood"],office:["accountant","administrative","architect","association","company","educational_institution","employment_agency","estate_agent","forestry","foundation","government","guide","insurance","it","lawyer","newspaper","ngo","notary","political_party","quango","register","religion","research","tax","telecommunication","travel_agent","water_utility"],place:["allotments","archipelago","city","continent","county","country","district","farm","hamlet","island","islet","isolated_dwelling","locality","municipality","neighbourhood","province","state","suburb","region","town","village"],power:["cable","plant","generator","line","minor_line","pole","substation","switch","tower","transformer"],produce:["berries","cassava","cereal","christmas_trees","cork","crocodile","dry_farming","fire_wood","fish","flowers","forage","hay","herbs","hide","hop","latex","lavender","live_animal","maize","maple_syrup","meat","mussels","nut","oil","olive","oysters","prawns","rape","rice","seaweed","shrimp","spice","sugarcane","sunflower","tea","timber","turf","vegetable"],public_transport:["stop_position","platform","station","stop_area"],shop:["alcohol","antiques","art","baby_goods","bakery","bag","bathroom_furnishing","beauty","bed","beverages","bicycle","books","boutique","butcher","car","car_repair","car_parts","carpet","charity","cheese","chemist","chocolate","clothes","coffee","computer","confectionery","convenience","copyshop","cosmetics","craft","curtain","deli","department_store","dairy","dry_cleaning","doityourself","electronics","erotic","fabric","farm","fashion","fishing","florist","frame","funeral_directors","furniture","general","gift","hairdresser","hardware","hearing_aids","herbalist","hifi","hunting","interior_decoration","jewelry","kiosk","kitchen","greengrocer","grocery","leather","laundry","mall","massage","medical_supply","mobile_phone","money_lender","motorcycle","music","musical_instrument","newsagent","optician","organic","outdoor","pasta","pet","photo","scuba_diving","seafood","second_hand","shoes","sports","stationery","supermarket","tailor","tattoo","tea","ticket","tobacco","toys","travel_agency","tyres","vacant","variety_store","video","video_games","water_sports","weapons","wine"],sport:["9pin","10pin","american_football","archery","athletics","australian_football","base","badminton","baseball","beachvolleyball","billiards","bmx","boules","bowls","boxing","canoe","chess","climbing","climbing_adventure","cycling","equestrian","free_flying","golf","handball","horse_racing","karting","kitesurfing","model_aerodrome","motocross","motor","multi","roller_skating","rugby_league","rugby_union","running","sailing","shooting","skateboard","skiing","soccer","swimming","tennis","volleyball"],railway:["abandoned","buffer_stop","construction","crossing","disused","funicular","halt","level_crossing","miniature","narrow_gauge","preserved","rail","station","subway","subway_entrance","switch","tram","tram_stop"],route:["bicycle","bus","ferry","hiking","mtb","pipeline","piste","power","railway","road","ski","train","tram"],tourism:["alpine_hut","apartement","attraction","artwork","camp_site","caravan_site","chalet","gallery","guest_house","hostel","hotel","information","motel","museum","picnic_site","theme_park","viewpoint","zoo","yes"],trees:["almond_trees","apple_trees","apricot_trees","avocado_trees","banana_plants","bayberry","blackberry","blueberry","cacao_plants","cherry_trees","chestnut_trees","coconut_palms","coffea_plants","cranberry","custard_apple","date_palms","durian_trees","ginkgo_trees","governor's_plum","guava_trees","hazel_plants","lemon_trees","lychee_trees","macadamia_trees","mandarin_trees","mango_trees","mulberrie_trees","olive_trees","orange_trees","papaya_trees","peach_trees","pear_trees","pecan_trees","persimmon_trees","pineapple_plants","pistachio_trees","plum_trees","pomegranate_trees","rambutan_trees","raspberry","sand_pear","tea_plants","walnut_trees"],waterway:["canal","ditch","dam","dock","drain","river","riverbank","stream","weir"]},we=a(78),ve=a(53),Oe=a(99),xe=a(225),ke=a.n(xe),Se=new ke.a("//overpass-api.de/api/interpreter"),Ce=a(640),Ee=a(638),Pe=r.forwardRef((function(e,t){return Object(b.jsx)(Ee.a,Object(u.a)({elevation:6,ref:t,variant:"filled"},e))}));function Ie(e){var t=e.open,a=e.setOpen,r=function(e,t){"clickaway"!==t&&a(!1)};return Object(b.jsx)(Ce.a,{open:t,autoHideDuration:6e3,onClose:r,anchorOrigin:{vertical:"top",horizontal:"center"},children:Object(b.jsx)(Pe,{onClose:r,severity:"warning",sx:{width:"100%"},children:"Query is Empty"})})}var Le=a(311),ze=function(e){return e.replace(/\w\S*/g,(function(e){return e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()}))},Ge=function(e){var t=e.map,a=e.setOpen,n=Object(r.useState)(null),i=Object(o.a)(n,2),s=i[0],u=i[1],d=Object(r.useState)(null),p=Object(o.a)(d,2),m=p[0],g=p[1],f=Object(r.useState)([]),h=Object(o.a)(f,2),y=h[0],j=h[1],_=Object(r.useState)(!1),w=Object(o.a)(_,2),v=w[0],O=w[1],x=Object(r.useState)(null),k=Object(o.a)(x,2),S=k[0],E=k[1],P=function(){return a(!0)},I=[];Object.keys(_e).forEach((function(e){I.push({value:e,label:ze(e).replace("_"," ")})}));return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(Ie,{open:v,setOpen:O}),Object(b.jsxs)(re.a,{container:!0,spacing:2,className:"top-bar",children:[Object(b.jsx)(re.a,{item:!0,xs:1,children:Object(b.jsx)("img",{src:ie,className:"App-logo",alt:"logo",height:40})}),Object(b.jsx)(re.a,{item:!0,xs:2,children:Object(b.jsx)(ne.a,{options:I,onChange:function(e){return function(e){var t=[];_e[e].forEach((function(e){return t.push({value:e,label:ze(e).replace("_"," ")})})),j(t),u(e)}(e.value)}})}),Object(b.jsx)(re.a,{item:!0,xs:3,children:Object(b.jsxs)(re.a,{container:!0,spacing:1,children:[Object(b.jsx)(re.a,{item:!0,xs:11,children:Object(b.jsx)(ne.a,{options:y,onChange:function(e){return g(e.value)}})}),Object(b.jsx)(re.a,{item:!0,xs:1,children:Object(b.jsx)(ae.a,{title:"Advance Options",children:Object(b.jsx)(te.a,{onClick:P,children:Object(b.jsx)(K.a,{})})})})]})}),Object(b.jsxs)(re.a,{item:!0,xs:6,children:[Object(b.jsx)(ae.a,{title:"Draw",children:Object(b.jsx)(B.a,{variant:"fill",startIcon:Object(b.jsx)(Y.a,{}),onClick:function(){return function(e,t){var a=new C.a({name:"Vecteur",source:new l.a});e.addLayer(a);var r=new Le.a({source:a.getSource(),sides:4});e.addInteraction(r),r.on("drawend",(function(a){t(Object(c.o)(a.feature.getGeometry().getExtent(),"EPSG:3857","EPSG:4326")),e.removeInteraction(r)}))}(t,E)},children:"Draw"})}),Object(b.jsx)(ae.a,{title:"Upload",children:Object(b.jsx)(B.a,{variant:"fill",startIcon:Object(b.jsx)(U.a,{}),onClick:function(){return function(e,t){var a=new he.a({hitTolerance:5,multi:!0,condition:ye.k});e.addInteraction(a);var r=function(r){var n=new ce.a({featureProjection:Object(c.g)("EPSG:3857")}).readFeatures(r),i=new C.a({source:new l.a({features:n}),style:function(e){return fe[e.getGeometry().getType()]}});e.addLayer(i),e.getView().fit(i.getSource().getExtent()),t(Object(c.o)(i.getSource().getExtent(),"EPSG:3857","EPSG:4326"));var o=new je.a({popupClass:"default anim",select:a,canFix:!0,autoPan:!0,autoPanAnimation:{duration:250},template:{title:{name:"name"},attribute:{}}});e.addOverlay(o)},n=document.createElement("input");n.setAttribute("type","file"),n.setAttribute("accept",".geojson,.gpx,.csv,.kml,.wkt,.zip"),n.addEventListener("change",(function(e){var t=e.target.files[0],a=new FileReader,n=t.name.split(".");"zip"===n[n.length-1].toLowerCase()?t.arrayBuffer().then((function(e){de()(e).then((function(e){r(e)}))})):a.onload=function(e){var t=JSON.parse(e.target.result);r(t)},a.readAsText(t)})),n.click()}(t,E)},children:"Upload"})}),Object(b.jsx)(B.a,{variant:"outlined",startIcon:Object(b.jsx)(W.a,{}),onClick:function(){return function(e,t,a,r,n){if(t&&a){var i=Object(c.o)(e.getView().calculateExtent(),"EPSG:3857","EPSG:4326");n&&(i=n),Se.BBoxQuery("nwr[".concat(t,"=").concat(a,"]"),{minlat:i[1],maxlat:i[3],minlon:i[0],maxlon:i[2]},{properties:ke.a.ALL},(function(a,r){if("node"===r.data.type){var n=new we.a(Object(c.d)([r.geometry.lon,r.geometry.lat])),i=new C.a({source:new l.a({features:[new oe.a(n)]}),style:function(e){return fe[e.getGeometry().getType()]}});e.addLayer(i)}else if("way"===r.data.type)if(["highway","cycleway","railway","route","waterway"].includes(t)){var o=[];r.geometry.forEach((function(e){o.push(Object(c.d)([e.lon,e.lat]))}));var s=new Oe.a(o),u=new oe.a(s),d=new C.a({source:new l.a({features:[u]}),style:function(e){return fe[e.getGeometry().getType()]}});e.addLayer(d)}else{var p=[];r.geometry.forEach((function(e){p.push(Object(c.d)([e.lon,e.lat]))}));var b=new ve.a([p]),m=new oe.a(b),g=new C.a({source:new l.a({features:[m]}),style:function(e){return fe[e.getGeometry().getType()]}});e.addLayer(g)}else console.log("relation",r)}),(function(e){e&&console.log(e)}))}else r(!0)}(t,s,m,O,S)},children:"Query"}),Object(b.jsx)(B.a,{variant:"fill",startIcon:Object(b.jsx)(ee.a,{}),onClick:function(){},children:"Data"}),Object(b.jsx)(ae.a,{title:"Clear",children:Object(b.jsx)(B.a,{variant:"fill",startIcon:Object(b.jsx)(M.a,{}),onClick:function(){Object(q.a)(t.getLayers().getArray()).forEach((function(e,a){0!==a&&t.removeLayer(e)}))},children:"Clear"})}),Object(b.jsx)(ae.a,{title:"Download",children:Object(b.jsx)(B.a,{variant:"fill",startIcon:Object(b.jsx)(J.a,{}),onClick:function(){return function(e){if(e){var t=Object(q.a)(e.getLayers().getArray()),a=[];t.forEach((function(e,t){0!==t&&a.push(new oe.a(e.getSource().getFeatures()))}));var r=new C.a({source:new l.a({features:a})}),n=(new ce.a).writeFeatures(r.getSource().getFeatures(),{dataProjection:"EPSG:3857",featureProjection:"EPSG:4326"});console.log(n),le.a.download({type:"FeatureCollection",features:[{type:"Feature",geometry:{type:"Point",coordinates:[0,0]},properties:{name:"Foo"}},{type:"Feature",geometry:{type:"Point",coordinates:[0,10]},properties:{name:"Bar"}}]},{folder:"myshapes",types:{point:"mypoints",polygon:"mypolygons",line:"mylines"}})}}(t)},children:"Download"})}),Object(b.jsx)(ae.a,{title:"Setting",children:Object(b.jsx)(B.a,{variant:"fill",startIcon:Object(b.jsx)(K.a,{}),onClick:P,children:"Settings"})})]})]})]})};function Fe(){var e=Object(r.useState)(!1),t=Object(o.a)(e,2),a=t[0],n=t[1],i=P({scaleBar:!1}),l=i.mapRef,u=i.map;return Object(b.jsxs)("div",{className:"App",children:[Object(b.jsx)(Ge,{map:u,setOpen:n}),Object(b.jsx)(y,{mapRef:l,providerValue:{map:u},zoom:12,center:Object(c.d)([84.5,28.3]),className:"map",children:Object(b.jsx)(O,{source:new s.a,zIndex:0,type:"base",title:"OSM Base Map"})}),Object(b.jsx)(V,{open:a,handleClose:function(){return n(!1)}})]})}var Ae=document.getElementById("root");i.a.render(Object(b.jsx)(r.StrictMode,{children:Object(b.jsx)(Fe,{})}),Ae)}},[[582,1,2]]]);
//# sourceMappingURL=main.0cbdef11.chunk.js.map